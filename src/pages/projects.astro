---
// src/pages/projects.astro
import BaseLayout from "../layouts/BaseLayout.astro";
import Card from "../components/Card.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
const featured = projects.filter(p => p.data.featured);
---
<BaseLayout title="Projects â€” Kareena Salim Lakhani">
  <section class="py-12">
    <h1 class="font-display text-2xl">Projects</h1>
    <p class="mt-2 text-support2">Featured work and full project list with demos.</p>

    <h2 class="mt-8 text-xl font-semibold">Featured</h2>
    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
      {featured.map(p => (
        <Card title={p.data.title} href={`/projects/${p.slug}`} tags={p.data.tags ?? []}>
          {p.data.summary}
        </Card>
      ))}
    </div>

    <h2 class="mt-10 text-xl font-semibold">All projects</h2>
    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
      {projects.map(p => (
        <Card title={p.data.title} href={`/projects/${p.slug}`} tags={p.data.tags ?? []}>
          {p.data.summary}
        </Card>
      ))}
    </div>
  </section>
</BaseLayout>

